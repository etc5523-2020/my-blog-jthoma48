knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)
library(tidyverse)
library(gridExtra)
library(plotly)
library(readr)
library(DT)
# Learn more about creating blogs with Distill at:
# https://rstudio.github.io/distill/blog.html
figures <- read_csv("covid_19_sg.csv")
View(figures)
typeof(figures$date)
class(figures)
typeof(figures$daily_confirmed)
figures$date <- as.Date(figures$date)
typeof(figures$date)
typeof(figures$date)
figures$date <- as.Date(figures$date)
typeof(figures$date)
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)
library(tidyverse)
library(gridExtra)
library(plotly)
library(readr)
library(DT)
# Learn more about creating blogs with Distill at:
# https://rstudio.github.io/distill/blog.html
View(figures)
figures <- figures %>% rename(Date = date,
`Daily Confirmed` = daily_confirmed,
`Cumulative Cumulative` = cumulative_confirmed,
`Daily discharged` = daily_discharged,
`Cumulative discharged` = cumulative_discharged,
`Discharge to isolation` = discharged_to_isolation,
`Still hospitalised` = still_hospitalised,
`Daily deaths` = daily_deaths,
`Cumulative deaths` = cumulative_deaths,
`Daily imported` = daily_imported,
`Daily local transmission` = daily_local_transmission,
`Local cases from dormitories` = local_cases_residing_in_dorms_moh_report,
`Local cases not from dormitories` = local_cases_not_residing_in_doms_moh_report,
`ICU cases` = intensive_care_unit_icu,
`General ward cases` = general_wards_moh_report,
`In insolation cases` = in_isolation_moh_report,
`Cumulative completed isolation` = total_completed_isolation_moh_report,
`Cumulative discharged` = total_hospital_discharged_moh_report)
View(figures)
figures <- figures %>% rename(Date = date,
`Daily Confirmed` = daily_confirmed,
`Cumulative Cumulative` = cumulative_confirmed,
`Daily discharged` = daily_discharged,
`Cumulative discharged` = cumulative_discharged,
`Discharge to isolation` = discharged_to_isolation,
`Still hospitalised` = still_hospitalised,
`Daily deaths` = daily_deaths,
`Cumulative deaths` = cumulative_deaths,
`Daily imported` = daily_imported,
`Daily local transmission` = daily_local_transmission,
`Local cases from dormitories` = local_cases_residing_in_dorms_moh_report,
`Local cases not from dormitories` = local_cases_not_residing_in_doms_moh_report,
`ICU cases` = intensive_care_unit_icu,
`General ward cases` = general_wards_moh_report,
`In insolation cases` = in_isolation_moh_report,
`Cumulative completed isolation` = total_completed_isolation_moh_report)
figures <- figures %>% rename(Date = date,
`Daily Confirmed` = daily_confirmed,
`Cumulative Confirmed` = cumulative_confirmed,
`Daily discharged` = daily_discharged,
`Cumulative discharged` = cumulative_discharged,
`Discharge to isolation` = discharged_to_isolation,
`Still hospitalised` = still_hospitalised,
`Daily deaths` = daily_deaths,
`Cumulative deaths` = cumulative_deaths,
`Daily imported` = daily_imported,
`Daily local transmission` = daily_local_transmission,
`Local cases from dormitories` = local_cases_residing_in_dorms_moh_report,
`Local cases not from dormitories` = local_cases_not_residing_in_doms_moh_report,
`ICU cases` = intensive_care_unit_icu,
`General ward cases` = general_wards_moh_report,
`In insolation cases` = in_isolation_moh_report,
`Cumulative completed isolation` = total_completed_isolation_moh_report)
figures <- read_csv("covid_19_sg.csv")
figures$date <- as.Date(figures$date)
figures <- figures %>% rename(Date = date,
`Daily Confirmed` = daily_confirmed,
`Cumulative Confirmed` = cumulative_confirmed,
`Daily discharged` = daily_discharged,
`Cumulative discharged` = cumulative_discharged,
`Discharge to isolation` = discharged_to_isolation,
`Still hospitalised` = still_hospitalised,
`Daily deaths` = daily_deaths,
`Cumulative deaths` = cumulative_deaths,
`Daily imported` = daily_imported,
`Daily local transmission` = daily_local_transmission,
`Local cases from dormitories` = local_cases_residing_in_dorms_moh_report,
`Local cases not from dormitories` = local_cases_not_residing_in_doms_moh_report,
`ICU cases` = intensive_care_unit_icu,
`General ward cases` = general_wards_moh_report,
`In insolation cases` = in_isolation_moh_report,
`Cumulative completed isolation` = total_completed_isolation_moh_report)
figures %>% ggplot(aes(x = Date)) +
geom_line(aes(y = `Cumulative Confirmed`), color = "blue") +
geom_line(aes(y = `Cumulative deaths`), color = "red")
figures %>% ggplot(aes(x = Date)) +
geom_line(aes(y = `Cumulative Confirmed`), color = "blue") +
geom_line(aes(y = `Daily Confirmed`), color = "red")
figures %>% ggplot(aes(x = Date)) +
#geom_line(aes(y = `Cumulative Confirmed`), color = "blue") +
geom_line(aes(y = `Daily Confirmed`), color = "red")
?geom_bar
figures %>% ggplot(aes(x = Date)) +
#geom_line(aes(y = `Cumulative Confirmed`), color = "blue") +
geom_line(aes(y = `Daily Confirmed`), color = "red") +
geom_col(aes(y = `Daily local transmission`)) +
geom_bar(aes(y = `Daily imported`), position = "stack")
figures %>% ggplot(aes(x = Date)) +
#geom_line(aes(y = `Cumulative Confirmed`), color = "blue") +
geom_line(aes(y = `Daily Confirmed`), color = "red") +
geom_col(aes(y = `Daily local transmission`)) +
geom_bar(aes(y = `Daily imported`), stat = "count", position = "stack")
figures %>% ggplot(aes(x = Date)) +
#geom_line(aes(y = `Cumulative Confirmed`), color = "blue") +
geom_line(aes(y = `Daily Confirmed`), color = "red") +
geom_col(aes(y = `Daily local transmission`)) +
geom_bar(aes(y = `Daily imported`), stat = "identity", position = "stack")
figures %>% ggplot(aes(x = Date)) +
#geom_line(aes(y = `Cumulative Confirmed`), color = "blue") +
geom_line(aes(y = `Daily Confirmed`), color = "red") +
geom_col(aes(y = `Daily local transmission`))
#geom_bar(aes(y = `Daily imported`), stat = "identity", position = "stack")
p1 <- figures %>% ggplot(aes(x = Date)) +
#geom_line(aes(y = `Cumulative Confirmed`), color = "blue") +
geom_line(aes(y = `Daily Confirmed`), color = "red") +
geom_col(aes(y = `Daily local transmission`))
#geom_bar(aes(y = `Daily imported`), stat = "identity", position = "stack")
ggplotly(p1)
p1 <- figures %>% ggplot(aes(x = Date)) +
#geom_line(aes(y = `Cumulative Confirmed`), color = "blue") +
geom_line(aes(y = `Daily Confirmed`), color = "red") +
#geom_col(aes(y = `Daily local transmission`))
geom_bar(aes(y = `Daily imported`), stat = "identity", position = "stack")
ggplotly(p1)
p1 <- figures %>% ggplot(aes(x = Date)) +
#geom_line(aes(y = `Cumulative Confirmed`), color = "blue") +
geom_line(aes(y = `Daily Confirmed`), color = "red") +
#geom_col(aes(y = `Daily local transmission`))
geom_bar(aes(y = `Daily imported`), stat = "identity", position = "stack", colour = "blue")
ggplotly(p1)
p1 <- figures %>% ggplot(aes(x = Date)) +
#geom_line(aes(y = `Cumulative Confirmed`), color = "blue") +
geom_line(aes(y = `Daily Confirmed`), color = "red") +
geom_col(aes(y = `Daily local transmission`, colour = "grey", alpha = 0.2)) +
geom_bar(aes(y = `Daily imported`), stat = "identity", position = "stack", colour = "blue")
ggplotly(p1)
p1 <- figures %>% ggplot(aes(x = Date)) +
#geom_line(aes(y = `Cumulative Confirmed`), color = "blue") +
geom_line(aes(y = `Daily Confirmed`), color = "red") +
geom_col(aes(y = `Daily local transmission`), colour = "grey", alpha = 0.2) +
geom_bar(aes(y = `Daily imported`), stat = "identity", position = "stack", colour = "blue")
ggplotly(p1)
figures %>% ggplot(aes(x = Date)) +
#geom_line(aes(y = `Cumulative Confirmed`), color = "blue") +
geom_line(aes(y = `Daily Confirmed`), color = "red") +
geom_col(aes(y = `Daily local transmission`), colour = "grey", alpha = 0.2, size = `Daily local transmission`) +
geom_bar(aes(y = `Daily imported`), stat = "identity", position = "stack", colour = "blue")
p1 <- figures %>% ggplot(aes(x = Date)) +
#geom_line(aes(y = `Cumulative Confirmed`), color = "blue") +
geom_line(aes(y = `Daily Confirmed`), color = "red") +
geom_col(aes(y = `Daily local transmission`), colour = "grey", alpha = 0.2) +
geom_bar(aes(y = `Daily imported`), stat = "identity", position = "stack", colour = "blue")
ggplotly(p1)
dorms <- figures %>% select(Date, `Daily local transmission`, `Local cases from dormitories`, `Local cases not from dormitories`) %>%
pivot_longer(cols = -c(Date, `Daily local tranmission`),
names_to = "Type",
values_to = "Cases")
p1 <- figures %>% ggplot(aes(x = Date)) +
#geom_line(aes(y = `Cumulative Confirmed`), color = "blue") +
geom_line(aes(y = `Daily Confirmed`), color = "red") +
geom_col(aes(y = `Daily local transmission`), colour = "grey", alpha = 0.2, size = `Daily local transmission`) +
geom_bar(aes(y = `Daily imported`), stat = "identity", position = "stack", colour = "blue")
p1 <- figures %>% ggplot(aes(x = Date)) +
#geom_line(aes(y = `Cumulative Confirmed`), color = "blue") +
geom_line(aes(y = `Daily Confirmed`), color = "red") +
geom_col(aes(y = `Daily local transmission`), colour = "grey", alpha = 0.2, size = `Daily local transmission`) +
geom_bar(aes(y = `Daily imported`), stat = "identity", position = "stack", colour = "blue")
p1 <- figures %>% ggplot(aes(x = Date)) +
#geom_line(aes(y = `Cumulative Confirmed`), color = "blue") +
geom_line(aes(y = `Daily Confirmed`), color = "red") +
geom_col(aes(y = `Daily local transmission`), colour = "grey", alpha = 0.2) +
geom_bar(aes(y = `Daily imported`), stat = "identity", position = "stack", colour = "blue")
ggplotly(p1)
dorms <- figures %>% select(Date, `Daily local transmission`, `Local cases from dormitories`, `Local cases not from dormitories`) %>%
pivot_longer(cols = -c(Date, `Daily local transmission`),
names_to = "Type",
values_to = "Cases")
View(dorms)
dorms %>% ggplot(aes(x = Date)) +
geom_bar(aes(y = Cases, fill = Type))
dorms %>% ggplot(aes(x = Date)) +
geom_col(aes(y = Cases, fill = Type))
p1 <- figures %>% ggplot(aes(x = Date)) +
#geom_line(aes(y = `Cumulative Confirmed`), color = "blue") +
geom_line(aes(y = `Daily Confirmed`), color = "red") +
geom_col(aes(y = `Daily local transmission`), colour = "grey", alpha = 0.2) +
geom_bar(aes(y = `Daily imported`), stat = "identity", position = "stack", colour = "blue") +
scale_x_date(breaks = "1 month")
ggplotly(p1)
?scale_x_date
p1 <- figures %>% ggplot(aes(x = Date)) +
#geom_line(aes(y = `Cumulative Confirmed`), color = "blue") +
geom_line(aes(y = `Daily Confirmed`), color = "red") +
geom_col(aes(y = `Daily local transmission`), colour = "grey", alpha = 0.2) +
geom_bar(aes(y = `Daily imported`), stat = "identity", position = "stack", colour = "blue") +
scale_x_date(date_breaks = "1 month")
ggplotly(p1)
p1 <- figures %>% ggplot(aes(x = Date)) +
#geom_line(aes(y = `Cumulative Confirmed`), color = "blue") +
geom_line(aes(y = `Daily Confirmed`), color = "red") +
geom_col(aes(y = `Daily local transmission`), colour = "grey", alpha = 0.2) +
geom_bar(aes(y = `Daily imported`), stat = "identity", position = "stack", colour = "blue") +
scale_x_date(date_breaks = "1 month", date_labels = c("February", "March"))
ggplotly(p1)
p1 <- figures %>% ggplot(aes(x = Date)) +
geom_line(aes(y = `Daily Confirmed`), color = "red") +
geom_col(aes(y = `Daily local transmission`), colour = "grey", alpha = 0.2) +
geom_bar(aes(y = `Daily imported`), stat = "identity", position = "stack", colour = "blue") +
scale_x_date(date_breaks = "1 month", date_labels = c("February", "March", "April", "May", "June", "July", "August", "September"))
ggplotly(p1)
p1 <- figures %>% ggplot(aes(x = Date)) +
geom_line(aes(y = `Daily Confirmed`), color = "red") +
geom_col(aes(y = `Daily local transmission`), colour = "grey", alpha = 0.2) +
geom_bar(aes(y = `Daily imported`), stat = "identity", position = "stack", colour = "blue") +
scale_x_date(date_breaks = "1 month", date_labels = c("September", "February", "March", "April", "May", "June", "July", "August"))
ggplotly(p1)
p1 <- figures %>% ggplot(aes(x = Date)) +
geom_line(aes(y = `Daily Confirmed`), color = "red") +
geom_col(aes(y = `Daily local transmission`), colour = "black", alpha = 0.2) +
geom_bar(aes(y = `Daily imported`), stat = "identity", position = "stack", colour = "blue") +
scale_x_date(date_breaks = "1 month", date_labels = c("September", "February", "March", "April", "May", "June", "July", "August"))
ggplotly(p1)
p1 <- figures %>% ggplot(aes(x = Date)) +
geom_line(aes(y = `Daily Confirmed`), color = "red") +
geom_col(aes(y = `Daily local transmission`), colour = "black", alpha = 0.8) +
geom_bar(aes(y = `Daily imported`), stat = "identity", position = "stack", colour = "blue") +
scale_x_date(date_breaks = "1 month", date_labels = c("September", "February", "March", "April", "May", "June", "July", "August"))
ggplotly(p1)
p1 <- figures %>% ggplot(aes(x = Date)) +
geom_line(aes(y = `Daily Confirmed`), color = "red") +
geom_col(aes(y = `Daily local transmission`), colour = "black", alpha = 0.1) +
geom_bar(aes(y = `Daily imported`), stat = "identity", position = "stack", colour = "blue") +
scale_x_date(date_breaks = "1 month", date_labels = c("September", "February", "March", "April", "May", "June", "July", "August"))
ggplotly(p1)
p1 <- figures %>% ggplot(aes(x = Date)) +
geom_line(aes(y = `Daily Confirmed`), color = "red") +
geom_col(aes(y = `Daily local transmission`), colour = "grey", alpha = 0.1) +
geom_bar(aes(y = `Daily imported`), stat = "identity", position = "stack", colour = "blue") +
scale_x_date(date_breaks = "1 month", date_labels = c("September", "February", "March", "April", "May", "June", "July", "August"))
ggplotly(p1)
p1 <- figures %>% ggplot(aes(x = Date)) +
geom_line(aes(y = `Daily Confirmed`), color = "red") +
geom_col(aes(y = `Daily local transmission`), colour = "grey", alpha = 0.8) +
geom_bar(aes(y = `Daily imported`), stat = "identity", position = "stack", colour = "blue") +
scale_x_date(date_breaks = "1 month", date_labels = c("September", "February", "March", "April", "May", "June", "July", "August"))
ggplotly(p1)
